#include <iostream>
#include <cmath>
#include <iomanip>
#ifndef M_PI
#define M_PI 3.14159265358979323846
#endif

class Point {
protected:
    double x, y;

public:
    Point(double x_val = 0, double y_val = 0) : x(x_val), y(y_val) {
        std::cout << "Точка создана в координатах (" << x << ", " << y << ")" << std::endl;
    }

    double getX() const { return x; }
    double getY() const { return y; }

    void setX(double x_val) { x = x_val; }
    void setY(double y_val) { y = y_val; }

    virtual void display() const {
        std::cout << "Координаты точки: (" << x << ", " << y << ")" << std::endl;
    }
};

class Circle : public Point {
protected:
    double radius;

public:
    Circle(double x_val = 0, double y_val = 0, double r = 1.0)
        : Point(x_val, y_val), radius(r) {
        std::cout << "Круг создан с радиусом " << radius << std::endl;
    }

    double getRadius() const { return radius; }

    void setRadius(double r) { radius = r; }

    double getArea() const {
        return M_PI * radius * radius;
    }

    void display() const override {
        std::cout << "Круг: центр в (" << x << ", " << y << "), радиус = " << radius << std::endl;
        std::cout << "Площадь круга: " << getArea() << std::endl;
    }
};

class Bowl : public Circle {
private:
    double height;
    double maxFillHeight;

public:
    Bowl(double x_val = 0, double y_val = 0, double r = 1.0, double h = 0.5)
        : Circle(x_val, y_val, r), height(h) {
        maxFillHeight = 0.9 * height;
        std::cout << "Миска создана с высотой " << height << " и максимальной высотой наполнения " << maxFillHeight << std::endl;
    }

    double getHeight() const { return height; }
    double getMaxFillHeight() const { return maxFillHeight; }

    double getVolume() const {
        return (1.0 / 3.0) * M_PI * height * height * (3 * radius - height);
    }

    double getMaxSoupVolume() const {
        return (1.0 / 3.0) * M_PI * maxFillHeight * maxFillHeight * (3 * radius - maxFillHeight);
    }

    double remainingSoupVolume(const Bowl& smallerBowl) const {
        double initialVolume = getMaxSoupVolume();
        double smallerBowlVolume = smallerBowl.getMaxSoupVolume();

        return (initialVolume > smallerBowlVolume) ? (initialVolume - smallerBowlVolume) : 0;
    }

    void display() const override {
        std::cout << "Миска: центр в (" << x << ", " << y << "), радиус = " << radius
            << ", высота = " << height << std::endl;
        std::cout << "Максимальная высота наполнения: " << maxFillHeight << std::endl;
        std::cout << "Общий объём миски: " << std::fixed << std::setprecision(2) << getVolume() << std::endl;
        std::cout << "Максимальный объём супа: " << std::fixed << std::setprecision(2) << getMaxSoupVolume() << std::endl;
    }
};

int main() {
    setlocale(LC_ALL, "Russian");
    std::cout << "Создание точки:" << std::endl;
    Point p(1.0, 2.0);
    p.display();
    std::cout << std::endl;

    std::cout << "Создание круга:" << std::endl;
    Circle c(0.0, 0.0, 5.0);
    c.display();
    std::cout << std::endl;

    std::cout << "Создание большой миски:" << std::endl;
    Bowl largeBowl(0.0, 0.0, 10.0, 5.0);
    largeBowl.display();
    std::cout << std::endl;

    std::cout << "Создание маленькой миски:" << std::endl;
    Bowl smallBowl(0.0, 0.0, 7.0, 3.5);
    smallBowl.display();
    std::cout << std::endl;

    double remainingSoup = largeBowl.remainingSoupVolume(smallBowl);
    std::cout << "После переливания супа из большой миски в маленькую:" << std::endl;
    std::cout << "Оставшийся объём супа в большой миске: " << std::fixed << std::setprecision(2)
        << remainingSoup << " кубических единиц" << std::endl;

    return 0;
}
